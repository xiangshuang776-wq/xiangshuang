<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>DESTINY_DRIVE_V10</title>
    <style>
        :root { --neon: #00ff41; --danger: #ff0055; }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Orbitron', sans-serif; }
        body { background: #000; color: var(--neon); overflow: hidden; height: 100vh; }

        /* 扫描线效果 */
        #scanner { position: fixed; top: 0; width: 100%; height: 5px; background: rgba(0,255,65,0.2); z-index: 100; animation: scan 3s linear infinite; }
        @keyframes scan { from { top: 0; } to { top: 100%; } }

        /* 动态仪表 */
        .dashboard { position: absolute; top: 40px; width: 100%; padding: 0 30px; display: flex; justify-content: space-between; z-index: 10; }
        .stat-box { border: 1px solid var(--neon); padding: 10px; min-width: 100px; text-align: center; background: rgba(0,255,65,0.05); }
        .stat-label { font-size: 8px; opacity: 0.6; }
        .stat-val { font-size: 16px; font-weight: bold; }

        /* 核心感应区：交互战场 */
        #game-zone { position: absolute; inset: 0; display: flex; justify-content: center; align-items: center; }
        #core-sensor { 
            width: 200px; height: 200px; border-radius: 50%; border: 4px solid var(--neon);
            display: flex; justify-content: center; align-items: center; transition: 0.2s;
            background: radial-gradient(circle, rgba(0,255,65,0.1) 0%, transparent 70%);
            z-index: 50;
        }
        
        /* 干扰粒子 */
        .glitch-particle { 
            position: absolute; width: 40px; height: 40px; background: var(--danger); 
            border-radius: 50%; filter: blur(10px); z-index: 60; cursor: pointer;
        }

        /* 底部引导 */
        .footer { position: absolute; bottom: 50px; width: 100%; text-align: center; z-index: 10; padding: 0 40px; }
        .hint { font-size: 12px; margin-bottom: 15px; text-shadow: 0 0 5px var(--neon); }
        #main-btn { 
            width: 100%; height: 60px; background: var(--neon); color: #000; 
            border: none; font-weight: 900; letter-spacing: 5px; cursor: pointer;
        }

        /* 结算弹窗：极简、有力 */
        #overlay { 
            display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.95); 
            z-index: 200; flex-direction: column; justify-content: center; align-items: center; padding: 40px;
        }
        .result-rank { font-size: 80px; font-weight: 900; color: #fff; margin-bottom: 20px; }
    </style>
</head>
<body>
    <div id="scanner"></div>

    <div class="dashboard">
        <div class="stat-box">
            <div class="stat-label">稳定度 (STB)</div>
            <div class="stat-val" id="stb-val">99%</div>
        </div>
        <div class="stat-box">
            <div class="stat-label">算力 (CALC)</div>
            <div class="stat-val" id="calc-val">0</div>
        </div>
    </div>

    <div id="game-zone">
        <div id="core-sensor">HOLD</div>
    </div>

    <div class="footer">
        <p class="hint">按住中心点并点击清除红色[因果干扰]以提高预测精度</p>
        <button id="main-btn">初始化链接</button>
    </div>

    <div id="overlay">
        <div class="stat-label">预测结果生成</div>
        <div class="result-rank" id="rank-tag">S+</div>
        <div style="font-size: 18px; text-align: center; color: #fff; line-height: 1.6;">
            你的财富纠缠已突破阈值。<br>
            <span id="final-date" style="background: var(--neon); color: #000; padding: 0 10px;">2026.06.18</span><br>
            因果扭转成功，该节点溢出率达 420%。
        </div>
        <button onclick="location.reload()" style="margin-top:40px; background:none; border: 1px solid #fff; color:#fff; padding: 15px 40px;">再次提升稳定性</button>
    </div>

    <script>
        let isHolding = false;
        let stability = 99;
        let score = 0;
        let gameTimer;

        const sensor = document.getElementById('core-sensor');
        const stbText = document.getElementById('stb-val');
        const calcText = document.getElementById('calc-val');
        const overlay = document.getElementById('overlay');

        function createGlitch() {
            if(!isHolding) return;
            const glitch = document.createElement('div');
            glitch.className = 'glitch-particle';
            glitch.style.left = Math.random() * 80 + 10 + "%";
            glitch.style.top = Math.random() * 80 + 10 + "%";
            document.body.appendChild(glitch);

            glitch.onclick = () => {
                score += 150;
                stability = Math.min(stability + 5, 100);
                glitch.remove();
            };

            setTimeout(() => {
                if(glitch.parentNode) {
                    glitch.remove();
                    stability -= 10;
                }
            }, 1000);
        }

        const start = (e) => {
            e.preventDefault();
            isHolding = true;
            sensor.style.transform = "scale(1.2)";
            sensor.innerText = "SYNCING";
            gameTimer = setInterval(() => {
                score += 10;
                updateUI();
                if(Math.random() > 0.7) createGlitch();
                if(score > 5000) endGame();
            }, 100);
        };

        const stop = () => {
            isHolding = false;
            clearInterval(gameTimer);
            score = 0;
            stability = 99;
            sensor.style.transform = "scale(1)";
            sensor.innerText = "HOLD";
            updateUI();
        };

        function updateUI() {
            stbText.innerText = stability + "%";
            calcText.innerText = score;
            if(stability <= 0) endGame();
        }

        function endGame() {
            overlay.style.display = 'flex';
            const rank = stability > 80 ? "SSS" : stability > 50 ? "A" : "D";
            document.getElementById('rank-tag').innerText = rank;
        }

        sensor.addEventListener('touchstart', start);
        sensor.addEventListener('touchend', stop);
        sensor.addEventListener('mousedown', start);
        sensor.addEventListener('mouseup', stop);
    </script>
</body>
</html>
